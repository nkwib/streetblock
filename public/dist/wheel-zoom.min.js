window.wheelzoom=function(){var e={zoom:.1,maxZoom:!1,initialZoom:1,initialX:.5,initialY:.5},t=function(t,n){if(t&&t.nodeName&&"IMG"===t.nodeName){var o,a,i,r,m,s,u,d,l={},c=function(e){t.removeEventListener("wheelzoom.destroy",c),t.removeEventListener("wheelzoom.reset",g),t.removeEventListener("load",b),t.removeEventListener("mouseup",w),t.removeEventListener("mousemove",f),t.removeEventListener("mousedown",h),t.removeEventListener("wheel",p),t.style.backgroundImage=e.backgroundImage,t.style.backgroundRepeat=e.backgroundRepeat,t.src=e.src}.bind(null,{backgroundImage:t.style.backgroundImage,backgroundRepeat:t.style.backgroundRepeat,src:t.src});t.addEventListener("wheelzoom.destroy",c),n=n||{},Object.keys(e).forEach(function(t){l[t]=void 0!==n[t]?n[t]:e[t]}),t.complete&&b(),t.addEventListener("load",b)}function v(){m>0?m=0:m<o-i&&(m=o-i),s>0?s=0:s<a-r&&(s=a-r),t.style.backgroundSize=i+"px "+r+"px",t.style.backgroundPosition=m+"px "+s+"px"}function g(){i=o,r=a,m=s=0,v()}function p(e){var n=0;e.preventDefault(),e.deltaY?n=e.deltaY:e.wheelDelta&&(n=-e.wheelDelta);var u=t.getBoundingClientRect(),d=e.pageX-u.left-window.pageXOffset,c=e.pageY-u.top-window.pageYOffset,p=(d-m)/i,f=(c-s)/r;n<0?(i+=i*l.zoom,r+=r*l.zoom):(i-=i*l.zoom,r-=r*l.zoom),l.maxZoom&&(i=Math.min(o*l.maxZoom,i),r=Math.min(a*l.maxZoom,r)),m=d-i*p,s=c-r*f,i<=o||r<=a?g():v()}function f(e){e.preventDefault(),m+=e.pageX-u.pageX,s+=e.pageY-u.pageY,u=e,v()}function w(){document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",f)}function h(e){e.preventDefault(),u=e,document.addEventListener("mousemove",f),document.addEventListener("mouseup",w)}function b(){var e=Math.max(l.initialZoom,1);if(t.src!==d){var n=window.getComputedStyle(t,null);o=parseInt(n.width,10),a=parseInt(n.height,10),r=a*e,m=-((i=o*e)-o)*l.initialX,s=-(r-a)*l.initialY,function(e){e.style.backgroundRepeat="no-repeat",e.style.backgroundImage='url("'+e.src+'")',d="data:image/svg+xml;base64,"+window.btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+e.naturalWidth+'" height="'+e.naturalHeight+'"></svg>'),e.src=d}(t),t.style.backgroundSize=i+"px "+r+"px",t.style.backgroundPosition=m+"px "+s+"px",t.addEventListener("wheelzoom.reset",g),t.addEventListener("wheel",p),t.addEventListener("mousedown",h)}}};return"function"!=typeof window.btoa?function(e){return e}:function(e,n){return e&&e.length?Array.prototype.forEach.call(e,function(e){t(e,n)}):e&&e.nodeName&&t(e,n),e}}();